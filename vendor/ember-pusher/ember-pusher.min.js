!function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)i.push("exports"===g[j]?f={}:b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("ember-pusher/bindings",["exports"],function(a){"use strict";var b="undefined"!=typeof window?window:{},c=b.Ember,d=c.Mixin.create({init:function(){var a;this._super(),this.PUSHER_SUBSCRIPTIONS&&(a=this,Object.keys(a.PUSHER_SUBSCRIPTIONS).forEach(function(b){var c=a.PUSHER_SUBSCRIPTIONS[b];a.pusher.wire(a,b,c)}))},willDestroy:function(){var a;this.PUSHER_SUBSCRIPTIONS&&(a=this,Object.keys(a.PUSHER_SUBSCRIPTIONS).forEach(function(b){a.pusher.unwire(a,b)}),this._super())},_pusherEventsId:function(){return this.toString()}});a.Bindings=d}),a("ember-pusher/client_events",["exports"],function(a){"use strict";var b="undefined"!=typeof window?window:{},c=b.Ember,d=c.Mixin.create({pusherTrigger:function(a,b,c){var d=this.pusher.channelFor(a);d.trigger(b,c)}});a.ClientEvents=d}),a("ember-pusher/controller",["exports"],function(a){"use strict";var b="undefined"!=typeof window?window:{},c=b.Ember,d=function(a,b){return function(){return a.apply(b,arguments)}},e=c.Controller.extend({connection:null,isDisconnected:!0,isConnected:c.computed.not("isDisconnected"),init:function(){this._super(),this.set("bindings",{})},didCreatePusher:function(a){this.set("connection",a),a.connection.bind("connected",d(this._didConnect,this)),a.connection.bind("disconnected",d(this._didDisconnect,this)),a.connection.bind("unavailable",d(this._didDisconnect,this))},wire:function(a,b,d){c.assert("Did you forget to extend the EmberPusher.Bindings mixin in your class receiving events?",!!a._pusherEventsId);var e=this.connectChannel(b),f=this.get("bindings"),g=a._pusherEventsId();f[b].eventBindings[g]||(f[b].eventBindings[g]=[]),d.forEach(function(d){{var h;c.String.camelize(d)}h=function(b){a.get("logPusherEvents")&&console.log(a.constructor.toString()+": Pusher event received",d,b),a.send(c.String.camelize(d),b)},e.bind(d,h),f[b].eventBindings[g].pushObject({handler:h,eventName:d})})},connectChannel:function(a){var b=this.get("connection"),d=this.get("bindings");return d[a]||(d[a]={eventBindings:{}}),c.isEmpty(Object.keys(d[a].eventBindings))&&(d[a].channel=b.subscribe(a),this.namespace&&this.namespace.PUSHER_OPTS.logAllEvents&&d[a].channel.bind_all(function(b,c){console.log("Pusher event received on "+a+":",b,c)})),d[a].channel},unwire:function(a,b){var c=this.get("connection"),d=this.get("bindings"),e=a._pusherEventsId(),f=d[b].channel;for(var g in d[b].eventBindings[e])f.unbind(g.eventName,g.handler);return delete d[b].eventBindings[e],0===Object.keys(d[b].eventBindings).length?(c.unsubscribe(b),delete d[b],!0):!1},channelFor:function(a){return this.get("bindings")[a].channel},socketId:function(){try{return this.get("connection").connection.socket_id}catch(a){console.warn(a)}}.property("isDisconnected"),_didConnect:function(){this.set("isDisconnected",!1)},_didDisconnect:function(){this.set("isDisconnected",!0)}});a.Controller=e}),a("ember-pusher/initializer",["ember-pusher/controller","exports"],function(a,b){"use strict";function c(){if(!f)throw"Include Ember before EmberPusher";if(!g)throw"Include Pusher before EmberPusher";f.Application.initializer({name:"pusherConnected",initialize:function(a,b){var c,e,h,i;i="pusher:main",a.register(i,d),c=a.lookup(i),e=b.PUSHER_OPTS,f.assert("You need to provide PUSHER_OPTS on your application",e),f.assert("You need to include the pusher libraries",g),h=new g(e.key,e.connection),c.didCreatePusher(h),b.inject("controller","pusher",i),b.inject("route","pusher",i)}})}var d=a.Controller,e="undefined"!=typeof window?window:{},f=e.Ember,g=e.Pusher;b.initialize=c}),a("ember-pusher",["ember-pusher/controller","ember-pusher/bindings","ember-pusher/client_events","ember-pusher/initializer","exports"],function(a,b,c,d,e){"use strict";var f=a.Controller,g=b.Bindings,h=c.ClientEvents,i=d.initialize;i(),e.Controller=f,e.Bindings=g,e.ClientEvents=h,e.initialize=i}),window.EmberPusher=b("ember-pusher")}(window);
